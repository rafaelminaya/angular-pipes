<div class="text-layout">
    <h1>Pipes no tan comunes</h1>

    <p>Pipes incluídos en Angular - Usualmente en el Common Module</p>
</div>

<!-- p-grid : Sistema grid flec que viene de PrimeNg -->
<div class="grid">
    <!-- p-col: Al no indicar las columnas a tomar, las toma todas. 
    Es similar a Bootstap -->
    <div class="lg:col-6 md:col-6 sm:col-9">

        <p-fieldset legend="i18nSelect Pipe" [toggleable]="true">
            <p>
                Saludos {{nombre}}, es un placer
                {{ genero | i18nSelect:invitacionMapa }}
                a nuestro evento.
            </p>

            <button (click)="cambiarCliente()" pButton type="button" label="Cambiar persona" class="p-button-help">
            </button>

        </p-fieldset>
    </div>

    <div class="lg:col-6 md:col-6 sm:col-9">
        <p-fieldset legend="i18nPlural Pipe" [toggleable]="true">
            <p>
                Actualmente {{ clientes.length | i18nPlural:clientesMapa }}
            </p>

            <!--  Etiqueta boton propia de PrimeNg, parece que no se le puede añadir el color con el atributo "class"
            Además esa el evento  "(onClick)" en reemplazo del "(click)" de angular -->
            <p-button (onClick)="borrarCliente()" label="Borrar cliente"></p-button>
        </p-fieldset>
    </div>

    <!-- p-col: Al no indicar las columnas a tomar, las toma todas. 
        Es similar a Bootstap -->
    <div class="lg:col-6 md:col-6 sm:col-9">

        <p-fieldset legend="Slice Pipe" [toggleable]="true">
            <b>Original</b>
            <!-- Al ser impreso de esta forma, el objeto no se modificará. 
                Para que sí se vean los cambios habría que añadir un "ngFor" o "ngIf" -->
            <pre> {{ clientes }} </pre>

            <!-- El "slice" es usado para cortar la cantidad de elemento a mostar de un arreglo. 
                    Pero también para cortar "string" ya que son un arreglo de caracteres.
                    El "slice" pasa por el ciclo de detección de cambios verificando si algo cambió. -->
            <!-- 0:2 : Quiero desde la posición "0" incluído, hasta la posición "2" excluyéndolo -->
            <b>slice: 0:2</b>
            <pre> {{ clientes | slice:0:2 }} </pre>

            <b>slice: 1:2</b>
            <pre> {{ clientes | slice:1:2 }} </pre>

            <b>slice: 1:3</b>
            <pre> {{ clientes | slice:1:3 }} </pre>

            <b>slice: 3:3</b>
            <pre> {{ clientes | slice:3:3 }} </pre>

            <b>slice: 3:4</b>
            <pre> {{ clientes | slice:3:4 }} </pre>

            <b> 'fernando' slice: 0:4</b>
            <pre> {{ 'fernando' | slice:0:4 }} </pre>

        </p-fieldset>

    </div>

    <div class="lg:col-6 md:col-6 sm:col-9">

        <p-fieldset legend="json Pipe" [toggleable]="true">

            <pre>
                {{heroes | json}}
            </pre>
        </p-fieldset>

    </div>

    <div class="lg:col-6 md:col-6 sm:col-9">

        <p-fieldset legend="Keyvalue Pipe" [toggleable]="true">

            <ul>
                <li *ngFor="let item of persona | keyvalue">{{ item.key }} : {{ item.value }} </li>
            </ul>
            <!-- Imprimiendo el json de lo transformado con el keyvalue -->
            <ul>
                <li *ngFor="let item of persona | keyvalue">{{ item | json}} </li>
            </ul>
        </p-fieldset>

    </div>

    <div class="lg:col-6 md:col-6 sm:col-9">

        <p-fieldset legend="asynx Pipe" [toggleable]="true">
            <!-- El piepe "asunc" se suscribe internamente al observable e imprime cada una de sus emisiones -->
            <pre *ngIf="!(miObservable | async)">Resolviendo observable</pre>
            <pre>{{miObservable | async }}</pre>

            <pre *ngIf="!(valorPromesa | async)">Resolviendo promesa</pre>
            <pre>{{valorPromesa | async }}</pre>
        </p-fieldset>

    </div>



</div>